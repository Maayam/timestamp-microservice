function in_array(needle, haystack){
    var result = false;
    for ( var i=0; i < haystack.length; i++ ){
        if ( needle == haystack[i] )
            result = true;
    }
    return result;
}

var months = ['january', 'february', 'march', 'april', 'may', 'june', 'july', 'august', 'september', 'october', 'november', 'december'];

var isTimestamp = function(str){ //checks if a string is a Timestamp
    if ( str.match(/^[0-9]+$/) ){
        return true;
    }
    else{
        return false;
    }
};

var isNatural = function(str){ //checks if a string is a natural date format (March 21, 2012)
    var result = false;
    var a_str = str.split(' ');
    var month = a_str[0];
    if ( in_array(month, months) ){ //if the first word is a month
        if ( str.match(/^[a-zA-Z]+\s[1-3]?[0-9],\s\-?[0-9]+$/gi) ){ //and if it is formated like natural language date
            result = true;
        }
    }
    return result;
};

var toNatural = function(timestamp){
  var d = new Date(parseInt(timestamp));
  return months[d.getMonth()]+' '+d.getDay()+', '+d.getFullYear();
};

var toTimestamp = function(natural){
  var timestamp = Date.parse(natural);
  return timestamp;
};

module.exports = {
    isTimestamp,
    isNatural,
    toNatural,
    toTimestamp
};